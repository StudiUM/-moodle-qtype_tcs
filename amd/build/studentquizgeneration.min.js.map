{"version":3,"sources":["../src/studentquizgeneration.js"],"names":["define","$","Y","SELECTORS","PANELISTSSELECTEDCHECKBOXES","PANELISTSCHECKBOXES","QUESTIONSSELECTEDCHECKBOXES","QUESTIONSCHECKBOXES","SUBMITBUTTON","SECTIONSELECTOR","FORMSELECTOR","validateform","length","prop","checkquestionremove","valid","each","find","use","alert","M","core","title","util","get_string","message","show","on"],"mappings":"AAwBAA,OAAM,yCAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAe,IAEPC,CAAAA,CAAS,CAAG,CACZC,2BAA2B,CAAE,2CADjB,CAEZC,mBAAmB,CAAE,mCAFT,CAGZC,2BAA2B,CAAE,2CAHjB,CAIZC,mBAAmB,CAAE,mCAJT,CAKZC,YAAY,CAAE,4BALF,CAMZC,eAAe,CAAE,6BANL,CAOZC,YAAY,CAAE,0BAPF,CAFL,CAYPC,CAAY,CAAG,UAAY,CAC3B,GAAsD,CAAlD,CAAAV,CAAC,CAACE,CAAS,CAACC,2BAAX,CAAD,CAAyCQ,MAAzC,EACsD,CAAlD,CAAAX,CAAC,CAACE,CAAS,CAACG,2BAAX,CAAD,CAAyCM,MADjD,CAC6D,CACzDX,CAAC,CAACE,CAAS,CAACK,YAAX,CAAD,CAA0BK,IAA1B,CAA+B,UAA/B,IACH,CAHD,IAGO,CACHZ,CAAC,CAACE,CAAS,CAACK,YAAX,CAAD,CAA0BK,IAA1B,CAA+B,UAA/B,IACH,CACJ,CAnBU,CAqBPC,CAAmB,CAAG,UAAY,CAClC,GAAIC,CAAAA,CAAK,GAAT,CACAd,CAAC,CAACE,CAAS,CAACM,eAAX,CAAD,CAA6BO,IAA7B,CAAkC,UAAW,CACzC,GAAmE,CAA/D,GAAAf,CAAC,CAAC,IAAD,CAAD,CAAQgB,IAAR,CAAad,CAAS,CAACG,2BAAvB,EAAoDM,MAAxD,CAAsE,CAClEG,CAAK,GAAL,CACA,QACH,CACJ,CALD,EAOA,GAAI,IAAAA,CAAJ,CAAqB,CACjBb,CAAC,CAACgB,GAAF,CAAM,gCAAN,CAAwC,UAAW,CAC/C,GAAIC,CAAAA,CAAK,CAAG,GAAIC,CAAAA,CAAC,CAACC,IAAF,CAAOF,KAAX,CAAiB,CACzBG,KAAK,CAAEF,CAAC,CAACG,IAAF,CAAOC,UAAP,CAAkB,mBAAlB,CAAuC,UAAvC,CADkB,CAEzBC,OAAO,CAAEL,CAAC,CAACG,IAAF,CAAOC,UAAP,CAAkB,6BAAlB,CAAiD,iBAAjD,CAFgB,CAAjB,CAAZ,CAKAL,CAAK,CAACO,IAAN,EACH,CAPD,EAQA,QACH,CACD,QACH,CA1CU,CA4CX,MAAkE,CAQ9D,KAAQ,eAAW,CACfzB,CAAC,CAACE,CAAS,CAACK,YAAX,CAAD,CAA0BK,IAA1B,CAA+B,UAA/B,KACAZ,CAAC,CAACE,CAAS,CAACE,mBAAV,CAAgC,GAAhC,CAAsCF,CAAS,CAACI,mBAAjD,CAAD,CAAuEoB,EAAvE,CAA0E,QAA1E,CAAoF,UAAW,CAE3FhB,CAAY,EACf,CAHD,EAIAA,CAAY,GAEZV,CAAC,CAACE,CAAS,CAACO,YAAX,CAAD,CAA0BiB,EAA1B,CAA6B,QAA7B,CAAuC,UAAU,CAC7C,MAAOb,CAAAA,CAAmB,EAC7B,CAFD,CAGH,CAnB6D,CAqBrE,CAlEC,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Generate quiz for students.\n *\n * @module     mod_concordance/studentquizgeneration\n * @package    mod_concordance\n * @copyright  2020 Université de Montréal\n * @author     Issam Taboubi <issam.taboubi@umontreal.ca>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery', 'core/yui'],\n    function($, Y) {\n\n        var SELECTORS = {\n            PANELISTSSELECTEDCHECKBOXES: \"input[name^='paneliststoinclude']:checked\",\n            PANELISTSCHECKBOXES: \"input[name^='paneliststoinclude']\",\n            QUESTIONSSELECTEDCHECKBOXES: \"input[name^='questionstoinclude']:checked\",\n            QUESTIONSCHECKBOXES: \"input[name^='questionstoinclude']\",\n            SUBMITBUTTON: \"input[name='submitbutton']\",\n            SECTIONSELECTOR: \".concordancequestionsection\",\n            FORMSELECTOR: \"#generatestudentquizform\"\n        };\n\n        var validateform = function () {\n            if ($(SELECTORS.PANELISTSSELECTEDCHECKBOXES).length > 0 &&\n                    $(SELECTORS.QUESTIONSSELECTEDCHECKBOXES).length > 0) {\n                $(SELECTORS.SUBMITBUTTON).prop('disabled', false);\n            } else {\n                $(SELECTORS.SUBMITBUTTON).prop('disabled', true);\n            }\n        };\n\n        var checkquestionremove = function () {\n            var valid = true;\n            $(SELECTORS.SECTIONSELECTOR).each(function() {\n                if ($(this).find(SELECTORS.QUESTIONSSELECTEDCHECKBOXES).length === 0) {\n                    valid = false;\n                    return false;\n                }\n            });\n\n            if (valid === false) {\n                Y.use('moodle-core-notification-alert', function() {\n                    var alert = new M.core.alert({\n                        title: M.util.get_string('cannotremoveslots', 'mod_quiz'),\n                        message: M.util.get_string('cannotremoveallsectionslots', 'mod_concordance')\n                    });\n\n                    alert.show();\n                });\n                return false;\n            }\n            return true;\n        };\n\n        return /** @alias module:mod_concordance/studentquizgeneration */ {\n            // Public variables and functions.\n\n            /**\n             * Initialise.\n             *\n             * @method init\n             */\n            'init': function() {\n                $(SELECTORS.SUBMITBUTTON).prop('disabled', true);\n                $(SELECTORS.PANELISTSCHECKBOXES + ',' + SELECTORS.QUESTIONSCHECKBOXES).on('change', function() {\n                    // Enable/disable submitbutton.\n                    validateform();\n                });\n                validateform();\n                // Check questions removal on submit.\n                $(SELECTORS.FORMSELECTOR).on(\"submit\", function(){\n                    return checkquestionremove();\n                });\n            }\n        };\n    });\n"],"file":"studentquizgeneration.min.js"}