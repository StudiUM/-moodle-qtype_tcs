/**
 * Generate quiz for students.
 *
 * @module     mod_concordance/studentquizgeneration
 * @copyright  2020 Université de Montréal
 * @author     Issam Taboubi <issam.taboubi@umontreal.ca>
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_concordance/studentquizgeneration",["jquery","core/yui"],(function($,Y){var SELECTORS_PANELISTSSELECTEDCHECKBOXES="input[name^='paneliststoinclude']:checked",SELECTORS_PANELISTSCHECKBOXES="input[name^='paneliststoinclude']",SELECTORS_QUESTIONSSELECTEDCHECKBOXES="input[name^='questionstoinclude']:checked",SELECTORS_QUESTIONSCHECKBOXES="input[name^='questionstoinclude']",SELECTORS_SUBMITBUTTON="input[name='submitbutton']",SELECTORS_SECTIONSELECTOR=".concordancequestionsection",SELECTORS_FORMSELECTOR="#generatestudentquizform",SELECTORS_QUIZNAME="#generatestudentquizform input[name='name']",SELECTORS_QUESTIONSINCLUDEERROR="#questionstoincludeerror",SELECTORS_PANELISTSINCLUDEERROR="#paneliststoincludeerror",validateform=function(){$(SELECTORS_PANELISTSSELECTEDCHECKBOXES).length>0&&$(SELECTORS_QUESTIONSSELECTEDCHECKBOXES).length>0&&""!==$(SELECTORS_QUIZNAME).val()?$(SELECTORS_SUBMITBUTTON).prop("disabled",!1):$(SELECTORS_SUBMITBUTTON).prop("disabled",!0),0===$(SELECTORS_PANELISTSSELECTEDCHECKBOXES).length?$(SELECTORS_PANELISTSINCLUDEERROR).show():$(SELECTORS_PANELISTSINCLUDEERROR).hide(),0===$(SELECTORS_QUESTIONSSELECTEDCHECKBOXES).length?$(SELECTORS_QUESTIONSINCLUDEERROR).show():$(SELECTORS_QUESTIONSINCLUDEERROR).hide()};return{init:function(){$(SELECTORS_SUBMITBUTTON).prop("disabled",!0),$(SELECTORS_PANELISTSCHECKBOXES+","+SELECTORS_QUESTIONSCHECKBOXES).on("change",(function(){validateform()})),$(SELECTORS_QUIZNAME).on("change",(function(){validateform()})),validateform(),$(SELECTORS_FORMSELECTOR).on("submit",(function(){return valid=!0,$(SELECTORS_SECTIONSELECTOR).each((function(){if(0===$(this).find(SELECTORS_QUESTIONSSELECTEDCHECKBOXES).length)return valid=!1,!1})),!1!==valid||(Y.use("moodle-core-notification-alert",(function(){new M.core.alert({title:M.util.get_string("cannotremoveslots","mod_quiz"),message:M.util.get_string("cannotremoveallsectionslots","mod_concordance")}).show()})),!1);var valid}))}}}));

//# sourceMappingURL=studentquizgeneration.min.js.map